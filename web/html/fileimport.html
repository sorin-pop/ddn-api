{{define "content"}}

    {{if .AnyOnline}}
        <h3>Import database</h3>
        <form method="POST" enctype="multipart/form-data" action="/import">
            <div class="form-group row">
                <label for="agent" class="col-sm-3 col-form-label">Database</label>
                <div class="col-sm-9">
                    <select id="agent" name="agent" class="form-control">
                        <option selected disabled hidden style='display: none' value=''>Select one</option>
                        {{range .Agents}}
                            {{if .Up}}
                                <option value="{{.ShortName}}" {{if eq $.SelectedAgent .ShortName}} selected {{end}}>{{.ShortName}}</option>
                            {{end}}
                        {{end}}
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label for="dbname" class="col-sm-3 col-form-label">Dumpfile</label>
                <div class="col-sm-9">
                    <input type="file" class="form-control" id="dbdump" name="dbdump" required>
                </div>
            </div>
            <div class="form-group row">
                <label for="dbname" class="col-sm-3 col-form-label">Database name</label>
                <div class="col-sm-9" id="dbnamediv" data-toggle="tooltip" data-placement="right" title="">
                    <input type="text" class="form-control" id="dbname" name="dbname" placeholder="Database name (optional)" pattern="^[a-zA-Z][a-zA-Z0-9_]+$">
                    <div class="invalid-feedback">
                        Only alphanumeric characters and underscore, no whitespace. Must begin with a letter of the alphabet.
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label for="user" class="col-sm-3 col-form-label">Database user</label>
                <div class="col-sm-9" id="userdiv" data-toggle="tooltip" data-placement="right" title="">
                    <input type="text" class="form-control" id="user" name="user" placeholder="Database user (optional)"  pattern="^[a-zA-Z][a-zA-Z0-9_]+$">
                    <div class="invalid-feedback">
                      Only alphanumeric characters and underscore, no whitespace. Must begin with a letter of the alphabet. Can't be 'root'.
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label for="password" class="col-sm-3 col-form-label">Database password</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="password" name="password" placeholder="Database password (optional)">
                    <div class="invalid-feedback">
                       Password must be at least 8 characters long and contain one upper- and lowercase letter and one number.
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-9 ml-auto">
                    <button id="submit" type="submit" class="btn btn-primary" disabled>Start import</button>
                </div>
            </div>
        </form>
    {{else}}
        <h3>Agents are offline</h3>
        <p>Since none of the agents are online, I'm afraid I can't let you start an import process.</p>
    {{end}}
{{end}}
